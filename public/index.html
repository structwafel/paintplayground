<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grid with Zoom and Pan</title>
    <style>
        #gridContainer {
            display: grid;
            grid-template-columns: repeat(100, 20px);
            position: absolute;
            overflow: hidden;
            border: 5px solid rgba(0, 8, 255, 0.131);
            max-width: 2000px;
            max-height: 2000px;
            will-change: transform;
            transform-origin: 0px 0px;
            transform: translate(30px, 30px) scale(0.5);
            gap: 0;
            /* Ensure no gaps between grid items */

        }

        .gridBox {
            width: 20px;
            height: 20px;
            cursor: pointer;
            background-color: grey;
            border: none;
        }

        #parendGridContainer {
            width: 80vh;
            height: 80vh;
            position: relative;
            overflow: hidden;
            border: 1px solid black;
            background-color: rgba(255, 196, 0, 0.564);

        }

        .navigationButton {
            position: absolute;
            z-index: 1;
            background-color: white;
            border: 1px solid black;
            cursor: pointer;
            width: 30px;
            height: 30px;
        }

        #upButton {
            top: 0;
            left: 50%;
            transform: translateX(-50%);
        }

        #rightButton {
            top: 50%;
            right: 0;
            transform: translateY(-50%);
        }

        #downButton {
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
        }

        #leftButton {
            top: 50%;
            left: 0;
            transform: translateY(-50%);
        }

        .colorButton {
            width: 30px;
            height: 30px;
            cursor: pointer;
            border: none;
        }

    </style>
</head>

<body>
    <div>
        <h1>WebSocket Color Grid</h1>
        <p>---Click/Hold LeftClick: Paint--- ---Hold RightClick: pan--- ---Scroll: Zoom---</p>
        <div id="connection_status">Status: Not connected</div>
        <div style="display:flex;gap:10px">
            <div id="location" ">Current location: (0,0)</div>
            <!-- Preview link -->
            <a href="https://canvas.structwafel.dev/screenshot?x=0&y=0" target="_blank">
              <button>Preview</button>
            </a>
            <!-- Download link -->
            <a id="downloadLink" href="https://canvas.structwafel.dev/screenshot?x=0&y=0" download="0_0.png">
                <button id="download">Download</button>
            </a>
        </div>
        <div id="color-picker">
            <button class="colorButton" id="zero">   </button>
            <button class="colorButton" id="one">   </button>
            <button class="colorButton" id="two">   </button>
            <button class="colorButton" id="three">   </button>
            <button class="colorButton" id="four">   </button>
            <button class="colorButton" id="five">   </button>
            <button class="colorButton" id="six">   </button>
            <button class="colorButton" id="seven">   </button>
            <button class="colorButton" id="eight">   </button>
            <button class="colorButton" id="nine">   </button>
            <button class="colorButton" id="ten">   </button>
            <button class="colorButton" id="eleven">   </button>
            <button class="colorButton" id="twelve">   </button>
            <button class="colorButton" id="thirteen">   </button>
            <button class="colorButton" id="fourteen">   </button>
            <button class="colorButton" id="fifteen">   </button>

        </div>
    </div>
    <div id="parendGridContainer">
        <button class="navigationButton" id="upButton">↑</button>
        <button class="navigationButton" id="rightButton">→</button>
        <button class="navigationButton" id="downButton">↓</button>
        <button class="navigationButton" id="leftButton">←</button>
        <div id="gridContainer"></div>
    </div>
    <script type="module" src="stuff.js"></script>
    <script type="module">
        import { selectedColor, colorMapping, colorFromNumber } from './js/color.js';

        // document.getElementById('color-picker').addEventListener('click', function (event) {
        //     selectedColor = event.target.id;
        // });

        // Set the background color of the color buttons
        Object.keys(colorMapping).forEach(key => {
            const button = document.getElementById(key);
            if (button) {
                button.style.backgroundColor = colorFromNumber(colorMapping[key]);
            }
        });
    </script>
</body>

</html>
